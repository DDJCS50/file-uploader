<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/styles.css">
  <title>Odin Drive</title>
</head>

<body>
  <header>
    <a href="/">Odin Drive</a>
  </header>
  <main>
    <%- include("partials/errors.ejs") %>
      <% if (locals.currentUser) {%>
        <div>

          <ul>
            <% if (locals.folder) {%>

              <li>
                <%= folder.name %>
              </li>

              <% } %>
          </ul>
        </div>

        <div>

          <ul>
            <% if (locals.files) {%>
              <% files.forEach(file=> { %>
                <a href="/file/<%= file.id %>">

                  <li>
                    <%= file.name %>
                      <br>
                      <%= file.id %>
                  </li>
                </a>
                <% }); %>
                  <% } %>
          </ul>
        </div>

        <form action="/update-folder/<%= folder.name %>" method="POST">
          <div>
            <label for="name">New Name: </label>
            <input type="text" name="name" id="name">
          </div>

          <button type="submit">Update Folder</button>
        </form>


        <% } else { %>
          <h1>Login</h1>
          <form action="/login" method="POST">

            <div>
              <label for="email">Email: </label>
              <input type="email" name="email" id="email">
            </div>
            <div>
              <label for="password">Password: </label>
              <input type="password" name="password" id="password">

            </div>

            <button type="submit">Login</button>
          </form>
          <%}%>
  </main>
  <footer>
    <h3>Copyright 2025 DDJCS50</h3>
  </footer>
</body>

</html>